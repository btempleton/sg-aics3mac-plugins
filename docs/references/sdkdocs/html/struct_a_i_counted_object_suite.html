<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Adobe Illustrator SDK API Reference</title>
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
<style type="text/css">body { background-color: white }</style>
<link rel="stylesheet" href="adobe.css" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body vlink="#996666" alink="#CC0000" leftmargin="24px" marginheight=
"0" marginwidth="0" topmargin="0">
<div id="overDiv" style=
"Z-INDEX:1000; VISIBILITY:hidden; POSITION:absolute"></div>
<a name="top"></a>
<table width="100%" border="0" cellspacing="0" cellpadding="0" ID="Table1">
<tr>
<td><img src="api.gif" alt="" height="80" width="750"
border="0" usemap="#topnavmap"></td>
<td width="100%" bgcolor="#CECECE">&nbsp;</td>
</tr>
</table>
<map name="topnavmap">
<area shape="rect" coords="10,10,50,60" href=
"http://www.adobe.com/" alt="Adobe.com">
</map>
<table border="0" cellpadding="0" cellspacing="0" width="745" ID="Table2">
<tr height="30">
<td width="15" height="30"><spacer type="block" width="15" height=
"30"></td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" ID="Table3">
<tr>
<td width="15"><spacer type="block" width="15" height="10"></td>
<td><!-- ENDHEADER -->
<!-- start-section: -->
<table border="0" cellpadding="5" cellspacing="5" id=
"ip-doxy-navbar">
<tr>
<td valign="bottom"><a class="qindex" href=
"index.html">Contents</a></td>
<td valign="bottom"><a class="qindex" href="group___suites.html">
Suites</a></td>
<td valign="bottom"><a class="qindex" href="annotated.html">
Classes</a></td>
<td valign="bottom"><a class="qindex" href="classes.html">
Class Index</a></td>
<td valign="bottom"><a class="qindex" href="functions.html">
Member Index</a></td>
</tr>
</table>
<!-- end-section: -->
<!-- Generated by Doxygen 1.4.7 -->
<h1>AICountedObjectSuite Struct Reference<br>
<small>
[<a class="el" href="group___suites.html">API Suite List</a>]</small>
</h1><!-- doxytag: class="AICountedObjectSuite" --><code>#include &lt;<a class="el" href="_a_i_counted_object_8h-source.html">AICountedObject.h</a>&gt;</code>
<p>
<a href="struct_a_i_counted_object_suite-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
These functions allow you to maintain the reference count for Illustrator object types that are returned through plug-in APIs. 
<p>
Suites for object types that are reference counted provide their own functions for incrementing and decrementing the count. You can use either those functions, or the functions in this suite, which work with any reference-counted object type.<p>
Reference-counted objects follow these conventions:<p>
<ul>
<li>A function that returns a pointer to a reference-counted object increments the count before returning the object. The caller must decrement the count when the object is no longer needed.</li>
</ul>
<ul>
<li>If a plug-in passes a reference-counted object in a message to another plug-in or as a parameter to a callback function, the plug-in should not decrement the count.</li>
</ul>
<ul>
<li>If a plug-in passes a reference counted-object to a function that needs to keep the object beyond the duration of the call, that function increments the count. The plug-in should still decrement its count if necessary when done with the object.</li>
</ul>
<dl compact><dt><b>See also:</b></dt><dd><code><a class="el" href="struct_a_i_entry_suite.html">AIEntrySuite</a></code> for an exception to these rules.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>Correctly managing reference counts can be difficult. Failure to do so results in memory leaks. It is recommended that C++ client code use the <code><a class="el" href="classai_1_1_ref.html">ai::Ref</a></code> template class to automatically manage these counts.</dd></dl>
<ul>
<li>Acquire this suite using <code><a class="el" href="struct_s_p_basic_suite.html#b191b4fcb7967214396d91afa4c2ead5">SPBasicSuite::AcquireSuite()</a></code> with the constants <code><a class="el" href="_a_i_counted_object_8h.html#fa69bec259922f2fb2d4a10e952f8a7a">kAICountedObjectSuite</a></code> and <code><a class="el" href="_a_i_counted_object_8h.html#5d246797dd30e86e89f7dd7a52e263a4">kAICountedObjectVersion</a></code>. </li>
</ul>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">AIAPI <a class="el" href="_a_s_types_8h.html#65f39c2ce85a271f3a02f3cd2f383241">ASInt32</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_i_counted_object_suite.html#59a36c2eaa9e0429d1eb8e205e16dfe5">AddRef</a> )(void *object)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Increments an object reference count.  <a href="#59a36c2eaa9e0429d1eb8e205e16dfe5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">AIAPI <a class="el" href="_a_s_types_8h.html#65f39c2ce85a271f3a02f3cd2f383241">ASInt32</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_i_counted_object_suite.html#dc1dcc39fb9b942a83ddbfa6fdf9daed">Release</a> )(void *object)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decrements an object reference count.  <a href="#dc1dcc39fb9b942a83ddbfa6fdf9daed"></a><br></td></tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="59a36c2eaa9e0429d1eb8e205e16dfe5"></a><!-- doxytag: member="AICountedObjectSuite::AddRef" ref="59a36c2eaa9e0429d1eb8e205e16dfe5" args=")(void *object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AIAPI <a class="el" href="_a_s_types_8h.html#65f39c2ce85a271f3a02f3cd2f383241">ASInt32</a>(* <a class="el" href="struct_a_i_counted_object_suite.html#59a36c2eaa9e0429d1eb8e205e16dfe5">AICountedObjectSuite::AddRef</a>)(void *object)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Increments an object reference count. 
<p>
(Note that this function returns a numeric value, not an error code.) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>The object. Can be <code>null</code>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of references after the increment. </dd></dl>

</div>
</div><p>
<a class="anchor" name="dc1dcc39fb9b942a83ddbfa6fdf9daed"></a><!-- doxytag: member="AICountedObjectSuite::Release" ref="dc1dcc39fb9b942a83ddbfa6fdf9daed" args=")(void *object)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AIAPI <a class="el" href="_a_s_types_8h.html#65f39c2ce85a271f3a02f3cd2f383241">ASInt32</a>(* <a class="el" href="struct_a_i_counted_object_suite.html#dc1dcc39fb9b942a83ddbfa6fdf9daed">AICountedObjectSuite::Release</a>)(void *object)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Decrements an object reference count. 
<p>
(Note that this function returns a numeric value, not an error code.) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>The object. Can be <code>null</code>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of references after the decrement. </dd></dl>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="_a_i_counted_object_8h-source.html">AICountedObject.h</a></ul>

<hr id="decoratehere">
<hr>
<!-- STARTFOOTER -->
</td>
</tr>
<tr>
<td width="15"><spacer type="block" width="15" height="10"></td>
<td><!-- ENDHEADER -->
<!-- start-section: -->
<table border="0" cellpadding="5" cellspacing="5" id="Table2">
<tr>
<td valign="bottom"><a class="qindex" href=
"index.html">Contents</a></td>
<td valign="bottom"><a class="qindex" href="group___suites.html">
Suites</a></td>
<td valign="bottom"><a class="qindex" href="annotated.html">
Classes</a></td>
<td valign="bottom"><a class="qindex" href="classes.html">
Class Index</a></td>
<td valign="bottom"><a class="qindex" href="functions.html">
Member Index</a></td>
</tr>
</table>
</td>
</tr>
<!-- </table> --></table>
<table border="0" cellpadding="0" cellspacing="0" width="745" id=
"Table3">
<tr height="30">
<td colspan="3" height="30"><spacer type="block" height="30"></td>
</tr>
<tr height="45">
<td width="20"><spacer type="block" width="20" height="45"></td>
<td width="115"><img src="asn.gif" width="114"
height="45" border="0" alt="Adobe Solutions Network"></td>
<td width="610"><spacer type="block" width="610" height="45"></td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="745" id=
"Table4">
<tr height="10">
<td width="20" height="10"><spacer type="block" width="20" height=
"10"></td>
<td width="705" height="10"><spacer type="block" height="10"></td>
<td width="20" height="10"><spacer type="blockheight=10"></td>
</tr>
<tr height="3">
<td width="10" align="right"><spacer type="block" width="10"
height="1"></td>
<td width="705" background="1dot.gif" alt=""><spacer type="block"
width="1" height="3"></td>
<td width="10"><spacer type="block" width="10" height="1"></td>
</tr>
<tr height="10">
<td colspan="3"><spacer type="block" height="10"></td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="745" id=
"Table5">
<tr>
<td width="20">&nbsp;</td>
<td width="725" valign="top">
<table border="0" cellpadding="0" cellspacing="0" id="Table6">
<tr>
<td colspan="13" valign="top" align="left" class="bio">Copyright
&#169; 2007 Adobe Systems Incorporated. All rights reserved.</td>
</tr>
<tr height="3">
<td colspan="13" height="3"><spacer type="block" width="20" height=
"3"></td>
</tr>
<tr>
<td valign="top"><a href="http://www.adobe.com/misc/copyright.html"
class="footerlink">Terms of Use</a></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td width="1" background="1dot.gif"><spacer type="block" width="1"
height="1"></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td valign="top"><a href="http://www.adobe.com/misc/privacy.html"
class="footerlink">Online Privacy Policy</a></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td width="1" background="1dot.gif"><spacer type="block" width="1"
height="1"></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td valign="top"><a href="http://access.adobe.com" class=
"footerlink">Adobe and accessibility</a></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td width="1" background="1dot.gif"><spacer type="block" width="1"
height="1"></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td valign="top"><a href=
"http://www.adobe.com/aboutadobe/antipiracy/main.html" class=
"footerlink">Avoid software piracy</a></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td width="1" background="1dot.gif"><spacer type="block" width="1"
height="1"></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td valign="top"><a href="http://www.adobe.com/misc/agreement.html"
class="footerlink">Permissions and Trademarks</a></td>
</tr>
<tr height="40">
<td colspan="12" height="40"><spacer type="block" width="20"
height="40"></td>
<td height="40"><img src="1ptrans.gif" width="20" height=
"40">&nbsp;</td>
</tr>
</table>
</td>
</tr>
</table>
</body>
</html>

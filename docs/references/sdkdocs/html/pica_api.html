<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Adobe Illustrator SDK API Reference</title>
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
<style type="text/css">body { background-color: white }</style>
<link rel="stylesheet" href="adobe.css" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body vlink="#996666" alink="#CC0000" leftmargin="24px" marginheight=
"0" marginwidth="0" topmargin="0">
<div id="overDiv" style=
"Z-INDEX:1000; VISIBILITY:hidden; POSITION:absolute"></div>
<a name="top"></a>
<table width="100%" border="0" cellspacing="0" cellpadding="0" ID="Table1">
<tr>
<td><img src="api.gif" alt="" height="80" width="750"
border="0" usemap="#topnavmap"></td>
<td width="100%" bgcolor="#CECECE">&nbsp;</td>
</tr>
</table>
<map name="topnavmap">
<area shape="rect" coords="10,10,50,60" href=
"http://www.adobe.com/" alt="Adobe.com">
</map>
<table border="0" cellpadding="0" cellspacing="0" width="745" ID="Table2">
<tr height="30">
<td width="15" height="30"><spacer type="block" width="15" height=
"30"></td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" ID="Table3">
<tr>
<td width="15"><spacer type="block" width="15" height="10"></td>
<td><!-- ENDHEADER -->
<!-- start-section: -->
<table border="0" cellpadding="5" cellspacing="5" id=
"ip-doxy-navbar">
<tr>
<td valign="bottom"><a class="qindex" href=
"index.html">Contents</a></td>
<td valign="bottom"><a class="qindex" href="group___suites.html">
Suites</a></td>
<td valign="bottom"><a class="qindex" href="annotated.html">
Classes</a></td>
<td valign="bottom"><a class="qindex" href="classes.html">
Class Index</a></td>
<td valign="bottom"><a class="qindex" href="functions.html">
Member Index</a></td>
</tr>
</table>
<!-- end-section: -->
<!-- Generated by Doxygen 1.4.7 -->
<h1><a class="anchor" name="pica_api">Adobe Plug-in Component Architecture (PICA)</a></h1>PICA, a plug-in manager for Adobe applications, provides the plug-in infrastructure, with basic tools and utilities for working with function suites and interacting with the file system.<p>
<ul>
<li><a class="el" href="struct_s_p_access_suite.html">SPAccessSuite</a></li><li><a class="el" href="struct_s_p_adapters_suite.html">SPAdaptersSuite</a></li><li><a class="el" href="struct_s_p_basic_suite.html">SPBasicSuite</a></li><li><a class="el" href="struct_s_p_block_debug_suite.html">SPBlockDebugSuite</a></li><li><a class="el" href="struct_s_p_blocks_suite.html">SPBlocksSuite</a></li><li><a class="el" href="struct_s_p_caches_suite.html">SPCachesSuite</a></li><li><a class="el" href="struct_s_p_files_suite.html">SPFilesSuite</a></li><li><a class="el" href="struct_s_p_interface_suite.html">SPInterfaceSuite</a></li><li><a class="el" href="struct_s_p_plugins_suite.html">SPPluginsSuite</a></li><li><a class="el" href="struct_s_p_properties_suite.html">SPPropertiesSuite</a></li><li><a class="el" href="struct_s_p_runtime_suite.html">SPRuntimeSuite</a></li><li><a class="el" href="struct_s_p_strings_suite.html">SPStringsSuite</a></li><li><a class="el" href="struct_s_p_suites_suite.html">SPSuitesSuite</a></li></ul>
<p>
A PICA plug-in must have a valid Plug-in Property List (’PiPL’) resource and it must have a code entry point described by the PiPL. A ’PiPL’ resource contains information about the plug-in’s type and how it is to be called. PICA will only consider files with PiPL resources to be potential plug-ins. The entry point of the plug-in code is specified in the PiPL resource. The entry point is called with a variety of messages telling it actions to take. By convention, the plug-in entry point is a C function called <code>PluginMain</code>. For example:<p>
<div class="fragment"><pre class="fragment"><span class="keyword">extern</span> <span class="stringliteral">"C"</span> <a class="code" href="_a_s_types_8h.html#310d55335f70335bbe2a07ed56494a2a">ASErr</a> <a class="code" href="_a_s_types_8h.html#b779a3919a7dcd81ef3ac7dd94c1e1b0">ASAPI</a> PluginMain(<span class="keywordtype">char</span>* caller, <span class="keywordtype">char</span>* selector, <span class="keywordtype">void</span>* message)
{
        <a class="code" href="_a_s_types_8h.html#310d55335f70335bbe2a07ed56494a2a">ASErr</a> error = <a class="code" href="group___errors.html#g3ec5f8ea7f972535d6638a306c0622db">kNoErr</a>;
        <a class="code" href="struct_s_p_message_data.html">SPMessageData</a> *msgData = (<a class="code" href="struct_s_p_message_data.html">SPMessageData</a> *)message;
        <span class="comment">// Plug-in code goes here</span>
        <span class="keywordflow">return</span> error;
}
</pre></div><p>
Three arguments are passed to the plug-in entry point, collectively they make up a message. The first two parameters are C style strings identifying the message action, describing what the plug-in is supposed to do, see <a class="el" href="group___callers.html">Plug-in Callers</a> and <a class="el" href="group___selectors.html">Plug-in Selectors</a>. The third parameter is a pointer to a data structure, which varies depending on the message action. The function returns an error code when it completes.<p>
An application’s API is composed of callback functions organized into suites. Before a plug-in can use a function that is part of a suite, the suite containing it must first be acquired. A function suite is a structure (a C struct) filled with function pointers and when a plug-in acquires a suite, a pointer to this structure is returned. When the function suite is no longer needed, the acquired suite is released. It is important to do this so that the PICA manager can run optimally. For instance, PICA keeps track of how many times a suite has been acquired. If a suite added by plug-in is no longer in use (its reference count is 0), the plug-in may be unloaded to free memory. See <a class="el" href="struct_s_p_basic_suite.html">SPBasicSuite</a> for more information.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group___callers.html">Plug-in Callers</a>, <a class="el" href="group___selectors.html">Plug-in Selectors</a>, <a class="el" href="group___notifiers.html">Plug-in Notifiers</a>, <a class="el" href="group___errors.html">Error Return Codes</a>, <a class="el" href="struct_s_p_basic_suite.html">SPBasicSuite</a> </dd></dl>

<hr id="decoratehere">
<hr>
<!-- STARTFOOTER -->
</td>
</tr>
<tr>
<td width="15"><spacer type="block" width="15" height="10"></td>
<td><!-- ENDHEADER -->
<!-- start-section: -->
<table border="0" cellpadding="5" cellspacing="5" id="Table2">
<tr>
<td valign="bottom"><a class="qindex" href=
"index.html">Contents</a></td>
<td valign="bottom"><a class="qindex" href="group___suites.html">
Suites</a></td>
<td valign="bottom"><a class="qindex" href="annotated.html">
Classes</a></td>
<td valign="bottom"><a class="qindex" href="classes.html">
Class Index</a></td>
<td valign="bottom"><a class="qindex" href="functions.html">
Member Index</a></td>
</tr>
</table>
</td>
</tr>
<!-- </table> --></table>
<table border="0" cellpadding="0" cellspacing="0" width="745" id=
"Table3">
<tr height="30">
<td colspan="3" height="30"><spacer type="block" height="30"></td>
</tr>
<tr height="45">
<td width="20"><spacer type="block" width="20" height="45"></td>
<td width="115"><img src="asn.gif" width="114"
height="45" border="0" alt="Adobe Solutions Network"></td>
<td width="610"><spacer type="block" width="610" height="45"></td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="745" id=
"Table4">
<tr height="10">
<td width="20" height="10"><spacer type="block" width="20" height=
"10"></td>
<td width="705" height="10"><spacer type="block" height="10"></td>
<td width="20" height="10"><spacer type="blockheight=10"></td>
</tr>
<tr height="3">
<td width="10" align="right"><spacer type="block" width="10"
height="1"></td>
<td width="705" background="1dot.gif" alt=""><spacer type="block"
width="1" height="3"></td>
<td width="10"><spacer type="block" width="10" height="1"></td>
</tr>
<tr height="10">
<td colspan="3"><spacer type="block" height="10"></td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="745" id=
"Table5">
<tr>
<td width="20">&nbsp;</td>
<td width="725" valign="top">
<table border="0" cellpadding="0" cellspacing="0" id="Table6">
<tr>
<td colspan="13" valign="top" align="left" class="bio">Copyright
&#169; 2007 Adobe Systems Incorporated. All rights reserved.</td>
</tr>
<tr height="3">
<td colspan="13" height="3"><spacer type="block" width="20" height=
"3"></td>
</tr>
<tr>
<td valign="top"><a href="http://www.adobe.com/misc/copyright.html"
class="footerlink">Terms of Use</a></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td width="1" background="1dot.gif"><spacer type="block" width="1"
height="1"></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td valign="top"><a href="http://www.adobe.com/misc/privacy.html"
class="footerlink">Online Privacy Policy</a></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td width="1" background="1dot.gif"><spacer type="block" width="1"
height="1"></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td valign="top"><a href="http://access.adobe.com" class=
"footerlink">Adobe and accessibility</a></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td width="1" background="1dot.gif"><spacer type="block" width="1"
height="1"></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td valign="top"><a href=
"http://www.adobe.com/aboutadobe/antipiracy/main.html" class=
"footerlink">Avoid software piracy</a></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td width="1" background="1dot.gif"><spacer type="block" width="1"
height="1"></td>
<td width="5"><spacer type="block" width="5" height="10"></td>
<td valign="top"><a href="http://www.adobe.com/misc/agreement.html"
class="footerlink">Permissions and Trademarks</a></td>
</tr>
<tr height="40">
<td colspan="12" height="40"><spacer type="block" width="20"
height="40"></td>
<td height="40"><img src="1ptrans.gif" width="20" height=
"40">&nbsp;</td>
</tr>
</table>
</td>
</tr>
</table>
</body>
</html>
